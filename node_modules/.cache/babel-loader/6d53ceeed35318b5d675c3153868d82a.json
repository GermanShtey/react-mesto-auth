{"ast":null,"code":"var _jsxFileName = \"/Users/german/dev/yandex/react-mesto-auth/src/pages/Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport Header from \"../components/Header\";\nimport Form from \"../components/Form\";\nimport Input from \"../components/Input\";\nimport Footer from \"../components/Footer\";\nimport register from \"../utils/auth\";\n\nconst Register = () => {\n  _s();\n\n  const history = useHistory();\n  const [userData, setUserData] = useState({\n    email: '',\n    password: ''\n  });\n\n  const handleChange = evt => {\n    const {\n      name,\n      value\n    } = evt.target;\n    setUserData({ ...userData,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = async evt => {\n    evt.preventDefault();\n\n    if (!userData.password && userData.email) {\n      return;\n    }\n\n    try {\n      const {\n        email,\n        password\n      } = userData;\n      const res = await register(email, password);\n\n      if (res.data) {\n        setUserData({\n          email: '',\n          password: ''\n        });\n        history.push(\"/singin\");\n      }\n    } catch (err) {}\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    title: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\",\n    submitText: \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"email\",\n    type: \"email\",\n    placeholder: \"Email\",\n    required: true,\n    className: \"popup__input popup__input_theme_dark\",\n    onChange: handleChange,\n    value: userData.email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n    required: true,\n    className: \"popup__input popup__input_theme_dark\",\n    value: userData.password,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Link, {\n    className: \"link form__link\",\n    to: \"/signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, \"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B? \\u0412\\u043E\\u0439\\u0442\\u0438\"), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }));\n};\n\n_s(Register, \"eoSpF2Q6FImO2FNazRuHuSPBFQU=\", false, function () {\n  return [useHistory];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/Users/german/dev/yandex/react-mesto-auth/src/pages/Register.js"],"names":["React","useState","Link","useHistory","Header","Form","Input","Footer","register","Register","history","userData","setUserData","email","password","handleChange","evt","name","value","target","handleSubmit","preventDefault","res","data","push","err"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport Header from \"../components/Header\";\nimport Form from \"../components/Form\";\nimport Input from \"../components/Input\";\nimport Footer from \"../components/Footer\";\nimport register from \"../utils/auth\";\n\nconst Register = () => {\n  const history = useHistory();\n  const [userData, setUserData] = useState({\n    email: '',\n    password: '',\n  })\n\n  const handleChange = evt => {\n    const { name, value } = evt.target;\n    setUserData({\n      ...userData,\n      [name]: value,\n    })\n  }\n\n  const handleSubmit = async evt => {\n    evt.preventDefault();\n    if (!userData.password && userData.email){\n      return;\n    }\n    try {\n      const { email, password } = userData;\n      const res = await register(email, password);\n      if(res.data) {\n        setUserData({\n          email: '',\n          password: '',\n        })\n        history.push(\"/singin\")\n      }\n    } catch (err) {\n    }\n  }\n\n  return(\n    <div className=\"page\">\n      <Header/>\n      <Form\n        title=\"Регистрация\"\n        submitText=\"Зарегистрироваться\"\n        onSubmit={handleSubmit}\n      >\n        <Input\n          name=\"email\"\n          type=\"email\"\n          placeholder=\"Email\"\n          required\n          className=\"popup__input popup__input_theme_dark\"\n          onChange={handleChange}\n          value={userData.email}\n        />\n        <Input\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Пароль\"\n          required\n          className=\"popup__input popup__input_theme_dark\"\n          value={userData.password}\n          onChange={handleChange}\n        />\n      </Form>\n      <Link className=\"link form__link\" to=\"/signin\">Уже зарегистрированы? Войти</Link>\n      <Footer/>\n    </div>\n  )\n}\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}